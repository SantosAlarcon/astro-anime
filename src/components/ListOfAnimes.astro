---
import animes from "../mock/animes.json"
import AnimeItem from "./AnimeItem.astro"

// Se realiza un fetching a la API para obtener el listado de los animes en emisi√≥n
const response = await fetch("https://api.jikan.moe/v4/seasons/now")
const jsonData = await response.json();
const airing_animes = jsonData.data;
---
<div id="lista-animes">
    {airing_animes.map(anime => <AnimeItem anime={anime} />)}
</div>

<style>
    #lista-animes {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 5em;
    }
    @media (width < 640px) {
        #lista-animes {
            grid-template-columns: repeat(2, 1fr);
            gap: 2em;
        }
    }
</style>
