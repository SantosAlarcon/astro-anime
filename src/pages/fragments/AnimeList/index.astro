---
import AnimeItem from "../../../components/AnimeItem.astro";

// Fetch the trending anime data if there is not any data on the lcoal
// storage.
const response = await fetch("https://api.jikan.moe/v4/seasons/now");
const jsonData = await response.json();
const airing_animes = jsonData.data;
---

<main id="lista-animes">
    {airing_animes.map((anime) => <AnimeItem anime={anime} />)}
</main>

<style>
    #lista-animes {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 5em;
        padding: 8rem 2.5rem 1rem 2.5rem;
        width: 1200px;
        max-width: calc(100% - 2rem);
        margin: auto;
    }

    @media (width < 720px) {
        #lista-animes {
            grid-template-columns: repeat(2, 1fr);
            gap: 2em;
            width: fit-content;
            max-width: fit-content
        }
    }
</style>
